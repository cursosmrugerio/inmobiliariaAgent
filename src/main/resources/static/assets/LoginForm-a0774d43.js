import{p as w,y as E,x as S,r as n,j as e,C as A,q as d,P as C,T,t as W}from"./index-149e384e.js";import{A as q,T as x}from"./TextField-ccee2ed2.js";const L=()=>{const{t}=w(),p=E(),{login:f}=S(),[o,y]=n.useState(""),[l,j]=n.useState(""),[u,a]=n.useState(""),[g,h]=n.useState(!1),v=async s=>{var m,c;s.preventDefault(),a(""),h(!0);try{await f(o,l),p("/chat",{replace:!0})}catch(b){const r=b,i=(c=(m=r.response)==null?void 0:m.data)==null?void 0:c.message;typeof i=="string"&&i.length>0?a(i):typeof r.message=="string"&&r.message.length>0?a(r.message):a(t("auth.loginError"))}finally{h(!1)}};return e.jsx(A,{maxWidth:"xs",children:e.jsx(d,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(C,{elevation:3,sx:{p:4,width:"100%"},children:[e.jsx(T,{variant:"h4",textAlign:"center",gutterBottom:!0,children:t("auth.login")}),u&&e.jsx(q,{severity:"error",sx:{mb:2},children:u}),e.jsxs(d,{component:"form",onSubmit:v,children:[e.jsx(x,{fullWidth:!0,type:"email",label:t("auth.email"),value:o,onChange:s=>y(s.target.value),margin:"normal",required:!0}),e.jsx(x,{fullWidth:!0,type:"password",label:t("auth.password"),value:l,onChange:s=>j(s.target.value),margin:"normal",required:!0}),e.jsx(W,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:g,sx:{mt:3},children:t(g?"auth.loggingIn":"auth.login")})]})]})})})};export{L as LoginForm};
