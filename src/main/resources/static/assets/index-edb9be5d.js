import{h as u,r as o,j as a,l as h,p as g,q as b,t as j,B as t,T as i,P as v}from"./index-83d1839a.js";import"./agentService-0a27ba7e.js";import{i as S}from"./inmobiliariaService-8a308489.js";import{p as y}from"./propiedadService-59ed13e6.js";import{p as A}from"./personaService-87614c8f.js";import{L as K,G as c}from"./LoadingSpinner-fa054fe4.js";const L=()=>{const{t:l}=u(),[s,p]=o.useState({inmobiliarias:0,propiedades:0,personas:0,contratos:0}),[d,n]=o.useState(!0);o.useEffect(()=>{(async()=>{try{n(!0);const[r,m,f]=await Promise.all([S.getAll(),y.getAll(),A.getAll()]);p({inmobiliarias:r.length,propiedades:m.length,personas:f.length,contratos:0})}catch(r){console.error("Error loading dashboard stats:",r)}finally{n(!1)}})()},[]);const x=[{icon:a.jsx(h,{fontSize:"large"}),color:"#1976d2",value:s.inmobiliarias,labelKey:"nav.inmobiliarias"},{icon:a.jsx(g,{fontSize:"large"}),color:"#388e3c",value:s.propiedades,labelKey:"nav.propiedades"},{icon:a.jsx(b,{fontSize:"large"}),color:"#f57c00",value:s.personas,labelKey:"nav.personas"},{icon:a.jsx(j,{fontSize:"large"}),color:"#d32f2f",value:s.contratos,labelKey:"nav.contratos"}];return d?a.jsx(K,{fullScreen:!0}):a.jsxs(t,{sx:{p:3},children:[a.jsx(i,{variant:"h4",sx:{mb:3},children:l("nav.dashboard")}),a.jsx(c,{container:!0,spacing:3,children:x.map(e=>a.jsx(c,{item:!0,xs:12,sm:6,md:3,children:a.jsxs(v,{sx:{p:3,display:"flex",alignItems:"center",gap:2},children:[a.jsx(t,{sx:{color:e.color},children:e.icon}),a.jsxs(t,{children:[a.jsx(i,{variant:"h4",children:e.value}),a.jsx(i,{variant:"body2",color:"text.secondary",children:l(e.labelKey)})]})]})},e.labelKey))})]})};export{L as DashboardPage};
